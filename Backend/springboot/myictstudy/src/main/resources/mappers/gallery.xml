<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--여기서 namespace는 @Mapper를 지정한 Interface인 즉 패키지포함해서 MemoDao를 작성해야 함--> 
<mapper namespace="kr.co.ictedu.myictstudy.dao.GalleryDao">
	<insert id="add" parameterType="gvo">
	INSERT INTO GALLERY (num,title,contents,writer,reip,hit,gdate) VALUES (gallery_seq.NEXTVAL, #{title},#{contents}, #{writer}, #{reip}, 0, sysdate)
	</insert>
	
	<insert id="addImg" parameterType="java.util.List">
		<selectKey keyProperty="id" resultType="int" order="BEFORE">
			select gallery_seq.currVal from dual
		</selectKey>
		<foreach collection="list" item="image" separator=" " open="insert all" close="select * from dual">
			INTO GALLERYIMAGES (galleryid,imagename) VALUES (#{id}, #{image.imagename})
		</foreach>
	</insert>
	
</mapper> 








